!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.nrrdjs=t()}(this,function(){"use strict";var e,t=(function(e,t){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)i(n,a)&&(e[a]=n[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,i,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),a);else for(var r=0;r<i;r++)e[a+r]=t[n+r]},flattenChunks:function(e){var t,n,i,a,r,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),a=0,t=0,n=e.length;t<n;t++)r=e[t],s.set(r,a),a+=r.length;return s}},r={arraySet:function(e,t,n,i,a){for(var r=0;r<i;r++)e[a+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(n)}(e={exports:{}},e.exports),e.exports),n=(t.assign,t.shrinkBuf,t.setTyped,t.Buf8,t.Buf16,t.Buf32,4),i=0,a=1,r=2;function s(e){for(var t=e.length;--t>=0;)e[t]=0}var o=0,l=1,d=2,h=29,f=256,c=f+1+h,u=30,_=19,m=2*c+1,g=15,p=16,w=7,b=256,k=16,v=17,y=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(c+2));s(S);var B=new Array(2*u);s(B);var R=new Array(512);s(R);var U=new Array(256);s(U);var Z=new Array(h);s(Z);var I,T,O,F=new Array(u);function N(e,t,n,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}function C(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function D(e){return e<256?R[e]:R[256+(e>>>7)]}function L(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function M(e,t,n){e.bi_valid>p-n?(e.bi_buf|=t<<e.bi_valid&65535,L(e,e.bi_buf),e.bi_buf=t>>p-e.bi_valid,e.bi_valid+=n-p):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function j(e,t,n){M(e,n[2*t],n[2*t+1])}function P(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function H(e,t,n){var i,a,r=new Array(g+1),s=0;for(i=1;i<=g;i++)r[i]=s=s+n[i-1]<<1;for(a=0;a<=t;a++){var o=e[2*a+1];0!==o&&(e[2*a]=P(r[o]++,o))}}function Y(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<_;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*b]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function K(e){e.bi_valid>8?L(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,i){var a=2*t,r=2*n;return e[a]<e[r]||e[a]===e[r]&&i[t]<=i[n]}function W(e,t,n){for(var i=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&V(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!V(t,i,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=i}function X(e,t,n){var i,a,r,s,o=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],a=e.pending_buf[e.l_buf+o],o++,0===i?j(e,a,t):(j(e,(r=U[a])+f+1,t),0!==(s=x[r])&&M(e,a-=Z[r],s),j(e,r=D(--i),n),0!==(s=z[r])&&M(e,i-=F[r],s))}while(o<e.last_lit);j(e,b,t)}function $(e,t){var n,i,a,r=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=m,n=0;n<l;n++)0!==r[2*n]?(e.heap[++e.heap_len]=d=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)r[2*(a=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=s[2*a+1]);for(t.max_code=d,n=e.heap_len>>1;n>=1;n--)W(e,r,n);a=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*a]=r[2*n]+r[2*i],e.depth[a]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=a,e.heap[1]=a++,W(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,a,r,s,o,l=t.dyn_tree,d=t.max_code,h=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,_=t.stat_desc.max_length,p=0;for(r=0;r<=g;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<m;n++)(r=l[2*l[2*(i=e.heap[n])+1]+1]+1)>_&&(r=_,p++),l[2*i+1]=r,i>d||(e.bl_count[r]++,s=0,i>=u&&(s=c[i-u]),o=l[2*i],e.opt_len+=o*(r+s),f&&(e.static_len+=o*(h[2*i+1]+s)));if(0!==p){do{for(r=_-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[_]--,p-=2}while(p>0);for(r=_;0!==r;r--)for(i=e.bl_count[r];0!==i;)(a=e.heap[--n])>d||(l[2*a+1]!==r&&(e.opt_len+=(r-l[2*a+1])*l[2*a],l[2*a+1]=r),i--)}}(e,t),H(r,d,e.bl_count)}function G(e,t,n){var i,a,r=-1,s=t[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)a=s,s=t[2*(i+1)+1],++o<l&&a===s||(o<d?e.bl_tree[2*a]+=o:0!==a?(a!==r&&e.bl_tree[2*a]++,e.bl_tree[2*k]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,o=0,r=a,0===s?(l=138,d=3):a===s?(l=6,d=3):(l=7,d=4))}function q(e,t,n){var i,a,r=-1,s=t[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),i=0;i<=n;i++)if(a=s,s=t[2*(i+1)+1],!(++o<l&&a===s)){if(o<d)do{j(e,a,e.bl_tree)}while(0!=--o);else 0!==a?(a!==r&&(j(e,a,e.bl_tree),o--),j(e,k,e.bl_tree),M(e,o-3,2)):o<=10?(j(e,v,e.bl_tree),M(e,o-3,3)):(j(e,y,e.bl_tree),M(e,o-11,7));o=0,r=a,0===s?(l=138,d=3):a===s?(l=6,d=3):(l=7,d=4)}}s(F);var J=!1;function Q(e,n,i,a){M(e,(o<<1)+(a?1:0),3),function(e,n,i,a){K(e),a&&(L(e,i),L(e,~i)),t.arraySet(e.pending_buf,e.window,n,i,e.pending),e.pending+=i}(e,n,i,!0)}var ee={_tr_init:function(e){J||(function(){var e,t,n,i,a,r=new Array(g+1);for(n=0,i=0;i<h-1;i++)for(Z[i]=n,e=0;e<1<<x[i];e++)U[n++]=i;for(U[n-1]=i,a=0,i=0;i<16;i++)for(F[i]=a,e=0;e<1<<z[i];e++)R[a++]=i;for(a>>=7;i<u;i++)for(F[i]=a<<7,e=0;e<1<<z[i]-7;e++)R[256+a++]=i;for(t=0;t<=g;t++)r[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,r[8]++;for(;e<=255;)S[2*e+1]=9,e++,r[9]++;for(;e<=279;)S[2*e+1]=7,e++,r[7]++;for(;e<=287;)S[2*e+1]=8,e++,r[8]++;for(H(S,c+1,r),e=0;e<u;e++)B[2*e+1]=5,B[2*e]=P(e,5);I=new N(S,x,f+1,c,g),T=new N(B,z,0,u,g),O=new N(new Array(0),E,0,_,w)}(),J=!0),e.l_desc=new C(e.dyn_ltree,I),e.d_desc=new C(e.dyn_dtree,T),e.bl_desc=new C(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,Y(e)},_tr_stored_block:Q,_tr_flush_block:function(e,t,s,o){var h,c,u=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return a;return i}(e)),$(e,e.l_desc),$(e,e.d_desc),u=function(e){var t;for(G(e,e.dyn_ltree,e.l_desc.max_code),G(e,e.dyn_dtree,e.d_desc.max_code),$(e,e.bl_desc),t=_-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),h=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=h&&(h=c)):h=c=s+5,s+4<=h&&-1!==t?Q(e,t,s,o):e.strategy===n||c===h?(M(e,(l<<1)+(o?1:0),3),X(e,S,B)):(M(e,(d<<1)+(o?1:0),3),function(e,t,n,i){var a;for(M(e,t-257,5),M(e,n-1,5),M(e,i-4,4),a=0;a<i;a++)M(e,e.bl_tree[2*A[a]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),X(e,e.dyn_ltree,e.dyn_dtree)),Y(e),o&&K(e)},_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(U[n]+f+1)]++,e.dyn_dtree[2*D(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){M(e,l<<1,3),j(e,b,S),function(e){16===e.bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}};var te=function(e,t,n,i){for(var a=65535&e|0,r=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{r=r+(a=a+t[i++]|0)|0}while(--s);a%=65521,r%=65521}return a|r<<16|0};var ne=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();var ie,ae=function(e,t,n,i){var a=ne,r=i+n;e^=-1;for(var s=i;s<r;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},re={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},se=0,oe=1,le=3,de=4,he=5,fe=0,ce=1,ue=-2,_e=-3,me=-5,ge=-1,pe=1,we=2,be=3,ke=4,ve=0,ye=2,xe=8,ze=9,Ee=15,Ae=8,Se=286,Be=30,Re=19,Ue=2*Se+1,Ze=15,Ie=3,Te=258,Oe=Te+Ie+1,Fe=32,Ne=42,Ce=69,De=73,Le=91,Me=103,je=113,Pe=666,He=1,Ye=2,Ke=3,Ve=4,We=3;function Xe(e,t){return e.msg=re[t],t}function $e(e){return(e<<1)-(e>4?9:0)}function Ge(e){for(var t=e.length;--t>=0;)e[t]=0}function qe(e){var n=e.state,i=n.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(t.arraySet(e.output,n.pending_buf,n.pending_out,i,e.next_out),e.next_out+=i,n.pending_out+=i,e.total_out+=i,e.avail_out-=i,n.pending-=i,0===n.pending&&(n.pending_out=0))}function Je(e,t){ee._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,qe(e.strm)}function Qe(e,t){e.pending_buf[e.pending++]=t}function et(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function tt(e,t){var n,i,a=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-Oe?e.strstart-(e.w_size-Oe):0,d=e.window,h=e.w_mask,f=e.prev,c=e.strstart+Te,u=d[r+s-1],_=d[r+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(d[(n=t)+s]===_&&d[n+s-1]===u&&d[n]===d[r]&&d[++n]===d[r+1]){r+=2,n++;do{}while(d[++r]===d[++n]&&d[++r]===d[++n]&&d[++r]===d[++n]&&d[++r]===d[++n]&&d[++r]===d[++n]&&d[++r]===d[++n]&&d[++r]===d[++n]&&d[++r]===d[++n]&&r<c);if(i=Te-(c-r),r=c-Te,i>s){if(e.match_start=t,s=i,i>=o)break;u=d[r+s-1],_=d[r+s]}}}while((t=f[t&h])>l&&0!=--a);return s<=e.lookahead?s:e.lookahead}function nt(e){var n,i,a,r,s,o,l,d,h,f,c=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-Oe)){t.arraySet(e.window,e.window,c,c,0),e.match_start-=c,e.strstart-=c,e.block_start-=c,n=i=e.hash_size;do{a=e.head[--n],e.head[n]=a>=c?a-c:0}while(--i);n=i=c;do{a=e.prev[--n],e.prev[n]=a>=c?a-c:0}while(--i);r+=c}if(0===e.strm.avail_in)break;if(o=e.strm,l=e.window,d=e.strstart+e.lookahead,h=r,f=void 0,(f=o.avail_in)>h&&(f=h),i=0===f?0:(o.avail_in-=f,t.arraySet(l,o.input,o.next_in,f,d),1===o.state.wrap?o.adler=te(o.adler,l,f,d):2===o.state.wrap&&(o.adler=ae(o.adler,l,f,d)),o.next_in+=f,o.total_in+=f,f),e.lookahead+=i,e.lookahead+e.insert>=Ie)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+Ie-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Ie)););}while(e.lookahead<Oe&&0!==e.strm.avail_in)}function it(e,t){for(var n,i;;){if(e.lookahead<Oe){if(nt(e),e.lookahead<Oe&&t===se)return He;if(0===e.lookahead)break}if(n=0,e.lookahead>=Ie&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ie-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Oe&&(e.match_length=tt(e,n)),e.match_length>=Ie)if(i=ee._tr_tally(e,e.strstart-e.match_start,e.match_length-Ie),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ie){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ie-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=ee._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Je(e,!1),0===e.strm.avail_out))return He}return e.insert=e.strstart<Ie-1?e.strstart:Ie-1,t===de?(Je(e,!0),0===e.strm.avail_out?Ke:Ve):e.last_lit&&(Je(e,!1),0===e.strm.avail_out)?He:Ye}function at(e,t){for(var n,i,a;;){if(e.lookahead<Oe){if(nt(e),e.lookahead<Oe&&t===se)return He;if(0===e.lookahead)break}if(n=0,e.lookahead>=Ie&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ie-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ie-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Oe&&(e.match_length=tt(e,n),e.match_length<=5&&(e.strategy===pe||e.match_length===Ie&&e.strstart-e.match_start>4096)&&(e.match_length=Ie-1)),e.prev_length>=Ie&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Ie,i=ee._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-Ie),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ie-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=Ie-1,e.strstart++,i&&(Je(e,!1),0===e.strm.avail_out))return He}else if(e.match_available){if((i=ee._tr_tally(e,0,e.window[e.strstart-1]))&&Je(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return He}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ee._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ie-1?e.strstart:Ie-1,t===de?(Je(e,!0),0===e.strm.avail_out?Ke:Ve):e.last_lit&&(Je(e,!1),0===e.strm.avail_out)?He:Ye}function rt(e,t,n,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=a}function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(2*Ue),this.dyn_dtree=new t.Buf16(2*(2*Be+1)),this.bl_tree=new t.Buf16(2*(2*Re+1)),Ge(this.dyn_ltree),Ge(this.dyn_dtree),Ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(Ze+1),this.heap=new t.Buf16(2*Se+1),Ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*Se+1),Ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=ye,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ne:je,e.adler=2===t.wrap?0:1,t.last_flush=se,ee._tr_init(t),fe):Xe(e,ue)}function lt(e){var t,n=ot(e);return n===fe&&((t=e.state).window_size=2*t.w_size,Ge(t.head),t.max_lazy_match=ie[t.level].max_lazy,t.good_match=ie[t.level].good_length,t.nice_match=ie[t.level].nice_length,t.max_chain_length=ie[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ie-1,t.match_available=0,t.ins_h=0),n}function dt(e,n,i,a,r,s){if(!e)return ue;var o=1;if(n===ge&&(n=6),a<0?(o=0,a=-a):a>15&&(o=2,a-=16),r<1||r>ze||i!==xe||a<8||a>15||n<0||n>9||s<0||s>ke)return Xe(e,ue);8===a&&(a=9);var l=new st;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Ie-1)/Ie),l.window=new t.Buf8(2*l.w_size),l.head=new t.Buf16(l.hash_size),l.prev=new t.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new t.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=n,l.strategy=s,l.method=i,lt(e)}ie=[new rt(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(nt(e),0===e.lookahead&&t===se)return He;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Je(e,!1),0===e.strm.avail_out))return He;if(e.strstart-e.block_start>=e.w_size-Oe&&(Je(e,!1),0===e.strm.avail_out))return He}return e.insert=0,t===de?(Je(e,!0),0===e.strm.avail_out?Ke:Ve):(e.strstart>e.block_start&&(Je(e,!1),e.strm.avail_out),He)}),new rt(4,4,8,4,it),new rt(4,5,16,8,it),new rt(4,6,32,32,it),new rt(4,4,16,16,at),new rt(8,16,32,32,at),new rt(8,16,128,128,at),new rt(8,32,128,256,at),new rt(32,128,258,1024,at),new rt(32,258,258,4096,at)];var ht={deflateInit:function(e,t){return dt(e,t,xe,Ee,Ae,ve)},deflateInit2:dt,deflateReset:lt,deflateResetKeep:ot,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ue:(e.state.gzhead=t,fe):ue},deflate:function(e,t){var n,i,a,r;if(!e||!e.state||t>he||t<0)return e?Xe(e,ue):ue;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===Pe&&t!==de)return Xe(e,0===e.avail_out?me:ue);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===Ne)if(2===i.wrap)e.adler=0,Qe(i,31),Qe(i,139),Qe(i,8),i.gzhead?(Qe(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Qe(i,255&i.gzhead.time),Qe(i,i.gzhead.time>>8&255),Qe(i,i.gzhead.time>>16&255),Qe(i,i.gzhead.time>>24&255),Qe(i,9===i.level?2:i.strategy>=we||i.level<2?4:0),Qe(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Qe(i,255&i.gzhead.extra.length),Qe(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=ae(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Ce):(Qe(i,0),Qe(i,0),Qe(i,0),Qe(i,0),Qe(i,0),Qe(i,9===i.level?2:i.strategy>=we||i.level<2?4:0),Qe(i,We),i.status=je);else{var s=xe+(i.w_bits-8<<4)<<8;s|=(i.strategy>=we||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=Fe),s+=31-s%31,i.status=je,et(i,s),0!==i.strstart&&(et(i,e.adler>>>16),et(i,65535&e.adler)),e.adler=1}if(i.status===Ce)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=ae(e.adler,i.pending_buf,i.pending-a,a)),qe(e),a=i.pending,i.pending!==i.pending_buf_size));)Qe(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=ae(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=De)}else i.status=De;if(i.status===De)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=ae(e.adler,i.pending_buf,i.pending-a,a)),qe(e),a=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Qe(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>a&&(e.adler=ae(e.adler,i.pending_buf,i.pending-a,a)),0===r&&(i.gzindex=0,i.status=Le)}else i.status=Le;if(i.status===Le)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=ae(e.adler,i.pending_buf,i.pending-a,a)),qe(e),a=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Qe(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>a&&(e.adler=ae(e.adler,i.pending_buf,i.pending-a,a)),0===r&&(i.status=Me)}else i.status=Me;if(i.status===Me&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&qe(e),i.pending+2<=i.pending_buf_size&&(Qe(i,255&e.adler),Qe(i,e.adler>>8&255),e.adler=0,i.status=je)):i.status=je),0!==i.pending){if(qe(e),0===e.avail_out)return i.last_flush=-1,fe}else if(0===e.avail_in&&$e(t)<=$e(n)&&t!==de)return Xe(e,me);if(i.status===Pe&&0!==e.avail_in)return Xe(e,me);if(0!==e.avail_in||0!==i.lookahead||t!==se&&i.status!==Pe){var o=i.strategy===we?function(e,t){for(var n;;){if(0===e.lookahead&&(nt(e),0===e.lookahead)){if(t===se)return He;break}if(e.match_length=0,n=ee._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Je(e,!1),0===e.strm.avail_out))return He}return e.insert=0,t===de?(Je(e,!0),0===e.strm.avail_out?Ke:Ve):e.last_lit&&(Je(e,!1),0===e.strm.avail_out)?He:Ye}(i,t):i.strategy===be?function(e,t){for(var n,i,a,r,s=e.window;;){if(e.lookahead<=Te){if(nt(e),e.lookahead<=Te&&t===se)return He;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=Ie&&e.strstart>0&&(i=s[a=e.strstart-1])===s[++a]&&i===s[++a]&&i===s[++a]){r=e.strstart+Te;do{}while(i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&a<r);e.match_length=Te-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ie?(n=ee._tr_tally(e,1,e.match_length-Ie),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ee._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Je(e,!1),0===e.strm.avail_out))return He}return e.insert=0,t===de?(Je(e,!0),0===e.strm.avail_out?Ke:Ve):e.last_lit&&(Je(e,!1),0===e.strm.avail_out)?He:Ye}(i,t):ie[i.level].func(i,t);if(o!==Ke&&o!==Ve||(i.status=Pe),o===He||o===Ke)return 0===e.avail_out&&(i.last_flush=-1),fe;if(o===Ye&&(t===oe?ee._tr_align(i):t!==he&&(ee._tr_stored_block(i,0,0,!1),t===le&&(Ge(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),qe(e),0===e.avail_out))return i.last_flush=-1,fe}return t!==de?fe:i.wrap<=0?ce:(2===i.wrap?(Qe(i,255&e.adler),Qe(i,e.adler>>8&255),Qe(i,e.adler>>16&255),Qe(i,e.adler>>24&255),Qe(i,255&e.total_in),Qe(i,e.total_in>>8&255),Qe(i,e.total_in>>16&255),Qe(i,e.total_in>>24&255)):(et(i,e.adler>>>16),et(i,65535&e.adler)),qe(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?fe:ce)},deflateEnd:function(e){var t;return e&&e.state?(t=e.state.status)!==Ne&&t!==Ce&&t!==De&&t!==Le&&t!==Me&&t!==je&&t!==Pe?Xe(e,ue):(e.state=null,t===je?Xe(e,_e):fe):ue},deflateSetDictionary:function(e,n){var i,a,r,s,o,l,d,h,f=n.length;if(!e||!e.state)return ue;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==Ne||i.lookahead)return ue;for(1===s&&(e.adler=te(e.adler,n,f,0)),i.wrap=0,f>=i.w_size&&(0===s&&(Ge(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new t.Buf8(i.w_size),t.arraySet(h,n,f-i.w_size,i.w_size,0),n=h,f=i.w_size),o=e.avail_in,l=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=n,nt(i);i.lookahead>=Ie;){a=i.strstart,r=i.lookahead-(Ie-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+Ie-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++}while(--r);i.strstart=a,i.lookahead=Ie-1,nt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Ie-1,i.match_available=0,e.next_in=l,e.input=d,e.avail_in=o,i.wrap=s,fe},deflateInfo:"pako deflate (from Nodeca project)"},ft=!0,ct=!0;try{String.fromCharCode.apply(null,[0])}catch(e){ft=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ct=!1}for(var ut=new t.Buf8(256),_t=0;_t<256;_t++)ut[_t]=_t>=252?6:_t>=248?5:_t>=240?4:_t>=224?3:_t>=192?2:1;ut[254]=ut[254]=1;function mt(e,n){if(n<65534&&(e.subarray&&ct||!e.subarray&&ft))return String.fromCharCode.apply(null,t.shrinkBuf(e,n));for(var i="",a=0;a<n;a++)i+=String.fromCharCode(e[a]);return i}var gt={string2buf:function(e){var n,i,a,r,s,o=e.length,l=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(n=new t.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?n[s++]=i:i<2048?(n[s++]=192|i>>>6,n[s++]=128|63&i):i<65536?(n[s++]=224|i>>>12,n[s++]=128|i>>>6&63,n[s++]=128|63&i):(n[s++]=240|i>>>18,n[s++]=128|i>>>12&63,n[s++]=128|i>>>6&63,n[s++]=128|63&i);return n},buf2binstring:function(e){return mt(e,e.length)},binstring2buf:function(e){for(var n=new t.Buf8(e.length),i=0,a=n.length;i<a;i++)n[i]=e.charCodeAt(i);return n},buf2string:function(e,t){var n,i,a,r,s=t||e.length,o=new Array(2*s);for(i=0,n=0;n<s;)if((a=e[n++])<128)o[i++]=a;else if((r=ut[a])>4)o[i++]=65533,n+=r-1;else{for(a&=2===r?31:3===r?15:7;r>1&&n<s;)a=a<<6|63&e[n++],r--;r>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}return mt(o,i)},utf8border:function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+ut[e[n]]>t?n:t}};var pt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},wt=Object.prototype.toString,bt=0,kt=-1,vt=0,yt=8;function xt(e){if(!(this instanceof xt))return new xt(e);this.options=t.assign({level:kt,method:yt,chunkSize:16384,windowBits:15,memLevel:8,strategy:vt,to:""},e||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pt,this.strm.avail_out=0;var i=ht.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==bt)throw new Error(re[i]);if(n.header&&ht.deflateSetHeader(this.strm,n.header),n.dictionary){var a;if(a="string"==typeof n.dictionary?gt.string2buf(n.dictionary):"[object ArrayBuffer]"===wt.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=ht.deflateSetDictionary(this.strm,a))!==bt)throw new Error(re[i]);this._dict_set=!0}}function zt(e,t){var n=new xt(t);if(n.push(e,!0),n.err)throw n.msg||re[n.err];return n.result}xt.prototype.push=function(e,n){var i,a,r=this.strm,s=this.options.chunkSize;if(this.ended)return!1;a=n===~~n?n:!0===n?4:0,"string"==typeof e?r.input=gt.string2buf(e):"[object ArrayBuffer]"===wt.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new t.Buf8(s),r.next_out=0,r.avail_out=s),1!==(i=ht.deflate(r,a))&&i!==bt)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(gt.buf2binstring(t.shrinkBuf(r.output,r.next_out))):this.onData(t.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===a?(i=ht.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===bt):2!==a||(this.onEnd(bt),r.avail_out=0,!0)},xt.prototype.onData=function(e){this.chunks.push(e)},xt.prototype.onEnd=function(e){e===bt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Et={Deflate:xt,deflate:zt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,zt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,zt(e,t)}},At=function(e,t){var n,i,a,r,s,o,l,d,h,f,c,u,_,m,g,p,w,b,k,v,y,x,z,E,A;n=e.state,i=e.next_in,E=e.input,a=i+(e.avail_in-5),r=e.next_out,A=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),l=n.dmax,d=n.wsize,h=n.whave,f=n.wnext,c=n.window,u=n.hold,_=n.bits,m=n.lencode,g=n.distcode,p=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{_<15&&(u+=E[i++]<<_,_+=8,u+=E[i++]<<_,_+=8),b=m[u&p];t:for(;;){if(u>>>=k=b>>>24,_-=k,0===(k=b>>>16&255))A[r++]=65535&b;else{if(!(16&k)){if(0==(64&k)){b=m[(65535&b)+(u&(1<<k)-1)];continue t}if(32&k){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}v=65535&b,(k&=15)&&(_<k&&(u+=E[i++]<<_,_+=8),v+=u&(1<<k)-1,u>>>=k,_-=k),_<15&&(u+=E[i++]<<_,_+=8,u+=E[i++]<<_,_+=8),b=g[u&w];n:for(;;){if(u>>>=k=b>>>24,_-=k,!(16&(k=b>>>16&255))){if(0==(64&k)){b=g[(65535&b)+(u&(1<<k)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(y=65535&b,_<(k&=15)&&(u+=E[i++]<<_,(_+=8)<k&&(u+=E[i++]<<_,_+=8)),(y+=u&(1<<k)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(u>>>=k,_-=k,y>(k=r-s)){if((k=y-k)>h&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,z=c,0===f){if(x+=d-k,k<v){v-=k;do{A[r++]=c[x++]}while(--k);x=r-y,z=A}}else if(f<k){if(x+=d+f-k,(k-=f)<v){v-=k;do{A[r++]=c[x++]}while(--k);if(x=0,f<v){v-=k=f;do{A[r++]=c[x++]}while(--k);x=r-y,z=A}}}else if(x+=f-k,k<v){v-=k;do{A[r++]=c[x++]}while(--k);x=r-y,z=A}for(;v>2;)A[r++]=z[x++],A[r++]=z[x++],A[r++]=z[x++],v-=3;v&&(A[r++]=z[x++],v>1&&(A[r++]=z[x++]))}else{x=r-y;do{A[r++]=A[x++],A[r++]=A[x++],A[r++]=A[x++],v-=3}while(v>2);v&&(A[r++]=A[x++],v>1&&(A[r++]=A[x++]))}break}}break}}while(i<a&&r<o);i-=v=_>>3,u&=(1<<(_-=v<<3))-1,e.next_in=i,e.next_out=r,e.avail_in=i<a?a-i+5:5-(i-a),e.avail_out=r<o?o-r+257:257-(r-o),n.hold=u,n.bits=_},St=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Bt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Rt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ut=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Zt=function(e,n,i,a,r,s,o,l){var d,h,f,c,u,_,m,g,p,w=l.bits,b=0,k=0,v=0,y=0,x=0,z=0,E=0,A=0,S=0,B=0,R=null,U=0,Z=new t.Buf16(16),I=new t.Buf16(16),T=null,O=0;for(b=0;b<=15;b++)Z[b]=0;for(k=0;k<a;k++)Z[n[i+k]]++;for(x=w,y=15;y>=1&&0===Z[y];y--);if(x>y&&(x=y),0===y)return r[s++]=20971520,r[s++]=20971520,l.bits=1,0;for(v=1;v<y&&0===Z[v];v++);for(x<v&&(x=v),A=1,b=1;b<=15;b++)if(A<<=1,(A-=Z[b])<0)return-1;if(A>0&&(0===e||1!==y))return-1;for(I[1]=0,b=1;b<15;b++)I[b+1]=I[b]+Z[b];for(k=0;k<a;k++)0!==n[i+k]&&(o[I[n[i+k]]++]=k);if(0===e?(R=T=o,_=19):1===e?(R=St,U-=257,T=Bt,O-=257,_=256):(R=Rt,T=Ut,_=-1),B=0,k=0,b=v,u=s,z=x,E=0,f=-1,c=(S=1<<x)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){m=b-E,o[k]<_?(g=0,p=o[k]):o[k]>_?(g=T[O+o[k]],p=R[U+o[k]]):(g=96,p=0),d=1<<b-E,v=h=1<<z;do{r[u+(B>>E)+(h-=d)]=m<<24|g<<16|p|0}while(0!==h);for(d=1<<b-1;B&d;)d>>=1;if(0!==d?(B&=d-1,B+=d):B=0,k++,0==--Z[b]){if(b===y)break;b=n[i+o[k]]}if(b>x&&(B&c)!==f){for(0===E&&(E=x),u+=v,A=1<<(z=b-E);z+E<y&&!((A-=Z[z+E])<=0);)z++,A<<=1;if(S+=1<<z,1===e&&S>852||2===e&&S>592)return 1;r[f=B&c]=x<<24|z<<16|u-s|0}}return 0!==B&&(r[u+B]=b-E<<24|64<<16|0),l.bits=x,0},It=0,Tt=1,Ot=2,Ft=4,Nt=5,Ct=6,Dt=0,Lt=1,Mt=2,jt=-2,Pt=-3,Ht=-4,Yt=-5,Kt=8,Vt=1,Wt=2,Xt=3,$t=4,Gt=5,qt=6,Jt=7,Qt=8,en=9,tn=10,nn=11,an=12,rn=13,sn=14,on=15,ln=16,dn=17,hn=18,fn=19,cn=20,un=21,_n=22,mn=23,gn=24,pn=25,wn=26,bn=27,kn=28,vn=29,yn=30,xn=31,zn=32,En=852,An=592,Sn=15;function Bn(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function Rn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Un(e){var n;return e&&e.state?(n=e.state,e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=1&n.wrap),n.mode=Vt,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new t.Buf32(En),n.distcode=n.distdyn=new t.Buf32(An),n.sane=1,n.back=-1,Dt):jt}function Zn(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,Un(e)):jt}function In(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?jt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Zn(e))):jt}function Tn(e,t){var n,i;return e?(i=new Rn,e.state=i,i.window=null,(n=In(e,t))!==Dt&&(e.state=null),n):jt}var On,Fn,Nn=!0;function Cn(e){if(Nn){var n;for(On=new t.Buf32(512),Fn=new t.Buf32(32),n=0;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Zt(Tt,e.lens,0,288,On,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Zt(Ot,e.lens,0,32,Fn,0,e.work,{bits:5}),Nn=!1}e.lencode=On,e.lenbits=9,e.distcode=Fn,e.distbits=5}function Dn(e,n,i,a){var r,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new t.Buf8(s.wsize)),a>=s.wsize?(t.arraySet(s.window,n,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>a&&(r=a),t.arraySet(s.window,n,i-a,r,s.wnext),(a-=r)?(t.arraySet(s.window,n,i-a,a,0),s.wnext=a,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}var Ln={inflateReset:Zn,inflateReset2:In,inflateResetKeep:Un,inflateInit:function(e){return Tn(e,Sn)},inflateInit2:Tn,inflate:function(e,n){var i,a,r,s,o,l,d,h,f,c,u,_,m,g,p,w,b,k,v,y,x,z,E,A,S=0,B=new t.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return jt;(i=e.state).mode===an&&(i.mode=rn),o=e.next_out,r=e.output,d=e.avail_out,s=e.next_in,a=e.input,l=e.avail_in,h=i.hold,f=i.bits,c=l,u=d,z=Dt;e:for(;;)switch(i.mode){case Vt:if(0===i.wrap){i.mode=rn;break}for(;f<16;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(2&i.wrap&&35615===h){i.check=0,B[0]=255&h,B[1]=h>>>8&255,i.check=ae(i.check,B,2,0),h=0,f=0,i.mode=Wt;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",i.mode=yn;break}if((15&h)!==Kt){e.msg="unknown compression method",i.mode=yn;break}if(f-=4,x=8+(15&(h>>>=4)),0===i.wbits)i.wbits=x;else if(x>i.wbits){e.msg="invalid window size",i.mode=yn;break}i.dmax=1<<x,e.adler=i.check=1,i.mode=512&h?tn:an,h=0,f=0;break;case Wt:for(;f<16;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(i.flags=h,(255&i.flags)!==Kt){e.msg="unknown compression method",i.mode=yn;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=yn;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&(B[0]=255&h,B[1]=h>>>8&255,i.check=ae(i.check,B,2,0)),h=0,f=0,i.mode=Xt;case Xt:for(;f<32;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}i.head&&(i.head.time=h),512&i.flags&&(B[0]=255&h,B[1]=h>>>8&255,B[2]=h>>>16&255,B[3]=h>>>24&255,i.check=ae(i.check,B,4,0)),h=0,f=0,i.mode=$t;case $t:for(;f<16;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&(B[0]=255&h,B[1]=h>>>8&255,i.check=ae(i.check,B,2,0)),h=0,f=0,i.mode=Gt;case Gt:if(1024&i.flags){for(;f<16;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&(B[0]=255&h,B[1]=h>>>8&255,i.check=ae(i.check,B,2,0)),h=0,f=0}else i.head&&(i.head.extra=null);i.mode=qt;case qt:if(1024&i.flags&&((_=i.length)>l&&(_=l),_&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),t.arraySet(i.head.extra,a,s,_,x)),512&i.flags&&(i.check=ae(i.check,a,_,s)),l-=_,s+=_,i.length-=_),i.length))break e;i.length=0,i.mode=Jt;case Jt:if(2048&i.flags){if(0===l)break e;_=0;do{x=a[s+_++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x))}while(x&&_<l);if(512&i.flags&&(i.check=ae(i.check,a,_,s)),l-=_,s+=_,x)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=Qt;case Qt:if(4096&i.flags){if(0===l)break e;_=0;do{x=a[s+_++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x))}while(x&&_<l);if(512&i.flags&&(i.check=ae(i.check,a,_,s)),l-=_,s+=_,x)break e}else i.head&&(i.head.comment=null);i.mode=en;case en:if(512&i.flags){for(;f<16;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(h!==(65535&i.check)){e.msg="header crc mismatch",i.mode=yn;break}h=0,f=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=an;break;case tn:for(;f<32;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}e.adler=i.check=Bn(h),h=0,f=0,i.mode=nn;case nn:if(0===i.havedict)return e.next_out=o,e.avail_out=d,e.next_in=s,e.avail_in=l,i.hold=h,i.bits=f,Mt;e.adler=i.check=1,i.mode=an;case an:if(n===Nt||n===Ct)break e;case rn:if(i.last){h>>>=7&f,f-=7&f,i.mode=bn;break}for(;f<3;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}switch(i.last=1&h,f-=1,3&(h>>>=1)){case 0:i.mode=sn;break;case 1:if(Cn(i),i.mode=cn,n===Ct){h>>>=2,f-=2;break e}break;case 2:i.mode=dn;break;case 3:e.msg="invalid block type",i.mode=yn}h>>>=2,f-=2;break;case sn:for(h>>>=7&f,f-=7&f;f<32;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",i.mode=yn;break}if(i.length=65535&h,h=0,f=0,i.mode=on,n===Ct)break e;case on:i.mode=ln;case ln:if(_=i.length){if(_>l&&(_=l),_>d&&(_=d),0===_)break e;t.arraySet(r,a,s,_,o),l-=_,s+=_,d-=_,o+=_,i.length-=_;break}i.mode=an;break;case dn:for(;f<14;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(i.nlen=257+(31&h),h>>>=5,f-=5,i.ndist=1+(31&h),h>>>=5,f-=5,i.ncode=4+(15&h),h>>>=4,f-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=yn;break}i.have=0,i.mode=hn;case hn:for(;i.have<i.ncode;){for(;f<3;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}i.lens[R[i.have++]]=7&h,h>>>=3,f-=3}for(;i.have<19;)i.lens[R[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,E={bits:i.lenbits},z=Zt(It,i.lens,0,19,i.lencode,0,i.work,E),i.lenbits=E.bits,z){e.msg="invalid code lengths set",i.mode=yn;break}i.have=0,i.mode=fn;case fn:for(;i.have<i.nlen+i.ndist;){for(;w=(S=i.lencode[h&(1<<i.lenbits)-1])>>>16&255,b=65535&S,!((p=S>>>24)<=f);){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(b<16)h>>>=p,f-=p,i.lens[i.have++]=b;else{if(16===b){for(A=p+2;f<A;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(h>>>=p,f-=p,0===i.have){e.msg="invalid bit length repeat",i.mode=yn;break}x=i.lens[i.have-1],_=3+(3&h),h>>>=2,f-=2}else if(17===b){for(A=p+3;f<A;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}f-=p,x=0,_=3+(7&(h>>>=p)),h>>>=3,f-=3}else{for(A=p+7;f<A;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}f-=p,x=0,_=11+(127&(h>>>=p)),h>>>=7,f-=7}if(i.have+_>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=yn;break}for(;_--;)i.lens[i.have++]=x}}if(i.mode===yn)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=yn;break}if(i.lenbits=9,E={bits:i.lenbits},z=Zt(Tt,i.lens,0,i.nlen,i.lencode,0,i.work,E),i.lenbits=E.bits,z){e.msg="invalid literal/lengths set",i.mode=yn;break}if(i.distbits=6,i.distcode=i.distdyn,E={bits:i.distbits},z=Zt(Ot,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,E),i.distbits=E.bits,z){e.msg="invalid distances set",i.mode=yn;break}if(i.mode=cn,n===Ct)break e;case cn:i.mode=un;case un:if(l>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=s,e.avail_in=l,i.hold=h,i.bits=f,At(e,u),o=e.next_out,r=e.output,d=e.avail_out,s=e.next_in,a=e.input,l=e.avail_in,h=i.hold,f=i.bits,i.mode===an&&(i.back=-1);break}for(i.back=0;w=(S=i.lencode[h&(1<<i.lenbits)-1])>>>16&255,b=65535&S,!((p=S>>>24)<=f);){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(w&&0==(240&w)){for(k=p,v=w,y=b;w=(S=i.lencode[y+((h&(1<<k+v)-1)>>k)])>>>16&255,b=65535&S,!(k+(p=S>>>24)<=f);){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}h>>>=k,f-=k,i.back+=k}if(h>>>=p,f-=p,i.back+=p,i.length=b,0===w){i.mode=wn;break}if(32&w){i.back=-1,i.mode=an;break}if(64&w){e.msg="invalid literal/length code",i.mode=yn;break}i.extra=15&w,i.mode=_n;case _n:if(i.extra){for(A=i.extra;f<A;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,f-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=mn;case mn:for(;w=(S=i.distcode[h&(1<<i.distbits)-1])>>>16&255,b=65535&S,!((p=S>>>24)<=f);){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(0==(240&w)){for(k=p,v=w,y=b;w=(S=i.distcode[y+((h&(1<<k+v)-1)>>k)])>>>16&255,b=65535&S,!(k+(p=S>>>24)<=f);){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}h>>>=k,f-=k,i.back+=k}if(h>>>=p,f-=p,i.back+=p,64&w){e.msg="invalid distance code",i.mode=yn;break}i.offset=b,i.extra=15&w,i.mode=gn;case gn:if(i.extra){for(A=i.extra;f<A;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,f-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=yn;break}i.mode=pn;case pn:if(0===d)break e;if(_=u-d,i.offset>_){if((_=i.offset-_)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=yn;break}_>i.wnext?(_-=i.wnext,m=i.wsize-_):m=i.wnext-_,_>i.length&&(_=i.length),g=i.window}else g=r,m=o-i.offset,_=i.length;_>d&&(_=d),d-=_,i.length-=_;do{r[o++]=g[m++]}while(--_);0===i.length&&(i.mode=un);break;case wn:if(0===d)break e;r[o++]=i.length,d--,i.mode=un;break;case bn:if(i.wrap){for(;f<32;){if(0===l)break e;l--,h|=a[s++]<<f,f+=8}if(u-=d,e.total_out+=u,i.total+=u,u&&(e.adler=i.check=i.flags?ae(i.check,r,u,o-u):te(i.check,r,u,o-u)),u=d,(i.flags?h:Bn(h))!==i.check){e.msg="incorrect data check",i.mode=yn;break}h=0,f=0}i.mode=kn;case kn:if(i.wrap&&i.flags){for(;f<32;){if(0===l)break e;l--,h+=a[s++]<<f,f+=8}if(h!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=yn;break}h=0,f=0}i.mode=vn;case vn:z=Lt;break e;case yn:z=Pt;break e;case xn:return Ht;case zn:default:return jt}return e.next_out=o,e.avail_out=d,e.next_in=s,e.avail_in=l,i.hold=h,i.bits=f,(i.wsize||u!==e.avail_out&&i.mode<yn&&(i.mode<bn||n!==Ft))&&Dn(e,e.output,e.next_out,u-e.avail_out),c-=e.avail_in,u-=e.avail_out,e.total_in+=c,e.total_out+=u,i.total+=u,i.wrap&&u&&(e.adler=i.check=i.flags?ae(i.check,r,u,e.next_out-u):te(i.check,r,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===an?128:0)+(i.mode===cn||i.mode===on?256:0),(0===c&&0===u||n===Ft)&&z===Dt&&(z=Yt),z},inflateEnd:function(e){if(!e||!e.state)return jt;var t=e.state;return t.window&&(t.window=null),e.state=null,Dt},inflateGetHeader:function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?jt:(n.head=t,t.done=!1,Dt):jt},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==nn?jt:n.mode===nn&&te(1,t,i,0)!==n.check?Pt:Dn(e,t,i,i)?(n.mode=xn,Ht):(n.havedict=1,Dt):jt},inflateInfo:"pako inflate (from Nodeca project)"},Mn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var jn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Pn=Object.prototype.toString;function Hn(e){if(!(this instanceof Hn))return new Hn(e);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},e||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||e&&e.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pt,this.strm.avail_out=0;var i=Ln.inflateInit2(this.strm,n.windowBits);if(i!==Mn.Z_OK)throw new Error(re[i]);if(this.header=new jn,Ln.inflateGetHeader(this.strm,this.header),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=gt.string2buf(n.dictionary):"[object ArrayBuffer]"===Pn.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(i=Ln.inflateSetDictionary(this.strm,n.dictionary))!==Mn.Z_OK))throw new Error(re[i])}function Yn(e,t){var n=new Hn(t);if(n.push(e,!0),n.err)throw n.msg||re[n.err];return n.result}Hn.prototype.push=function(e,n){var i,a,r,s,o,l=this.strm,d=this.options.chunkSize,h=this.options.dictionary,f=!1;if(this.ended)return!1;a=n===~~n?n:!0===n?Mn.Z_FINISH:Mn.Z_NO_FLUSH,"string"==typeof e?l.input=gt.binstring2buf(e):"[object ArrayBuffer]"===Pn.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new t.Buf8(d),l.next_out=0,l.avail_out=d),(i=Ln.inflate(l,Mn.Z_NO_FLUSH))===Mn.Z_NEED_DICT&&h&&(i=Ln.inflateSetDictionary(this.strm,h)),i===Mn.Z_BUF_ERROR&&!0===f&&(i=Mn.Z_OK,f=!1),i!==Mn.Z_STREAM_END&&i!==Mn.Z_OK)return this.onEnd(i),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&i!==Mn.Z_STREAM_END&&(0!==l.avail_in||a!==Mn.Z_FINISH&&a!==Mn.Z_SYNC_FLUSH)||("string"===this.options.to?(r=gt.utf8border(l.output,l.next_out),s=l.next_out-r,o=gt.buf2string(l.output,r),l.next_out=s,l.avail_out=d-s,s&&t.arraySet(l.output,l.output,r,s,0),this.onData(o)):this.onData(t.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(f=!0)}while((l.avail_in>0||0===l.avail_out)&&i!==Mn.Z_STREAM_END);return i===Mn.Z_STREAM_END&&(a=Mn.Z_FINISH),a===Mn.Z_FINISH?(i=Ln.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Mn.Z_OK):a!==Mn.Z_SYNC_FLUSH||(this.onEnd(Mn.Z_OK),l.avail_out=0,!0)},Hn.prototype.onData=function(e){this.chunks.push(e)},Hn.prototype.onEnd=function(e){e===Mn.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Kn={Inflate:Hn,inflate:Yn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Yn(e,t)},ungzip:Yn},Vn={};(0,t.assign)(Vn,Et,Kn,Mn);var Wn=Vn,Xn=window,$n=Xn.BlobBuilder||Xn.WebKitBlobBuilder||Xn.MozBlobBuilder||Xn.MSBlobBuilder,Gn=Xn.URL||Xn.webkitURL||Xn.mozURL||Xn.msURL,qn="application/javascript",Jn="undefined"==typeof Symbol?"__t"+ +new Date:Symbol(),Qn=Xn.Worker,ei=Xn.setImmediate||function(e){return setTimeout(e,1)};function ti(e,t){var n=Object.create(null);return e.onmessage=null,e.addEventListener=function(e,t){var i=n[e]||(n[e]=[]);~i.indexOf(t)||i.push(t)},e.removeEventListener=function(e,t){var i,a=n[e];a&&-1!==(i=a.indexOf(t))&&(a.splice(i,1),a.length||delete n[e])},e.postMessage=function(n){ei(function(){var i=n;if(t.onmessage)try{t.onmessage({data:i,target:e})}catch(e){console.error(e)}t.emit("message",{type:"message",data:i,target:e,timeStamp:+new Date})})},e.emit=function(t,i){var a=n[t];a&&a.forEach(function(t,n){return t.call(e,i)})},e.destroy=function(){Object.keys(n).forEach(function(e){var t=n[e];t&&(t.length=0,delete n[e])}),n=null},e}if(Qn){var ni,ii=ri("self.onmessage = function () {}"),ai=new Uint8Array(1);try{if(/(?:Trident|Edge)\/(?:[567]|12)/i.test(navigator.userAgent))throw new Error("Not available");(ni=new Qn(ii)).postMessage(ai,[ai.buffer])}catch(si){Qn=null}finally{Gn.revokeObjectURL(ii),ni&&ni.terminate()}}function ri(e){var t=qn;try{return Gn.createObjectURL(new Blob([e],{type:t}))}catch(i){var n=new $n;return n.append(e),Gn.createObjectURL(n.getBlob(t))}}var si,oi,li=(si="worker#./parseData.worker.js",oi=function(){return function(e,t){var n=(e,t,n,i)=>{let a=65535&e|0,r=e>>>16&65535|0,s=0;for(;0!==n;){n-=s=n>2e3?2e3:n;do{a=a+t[i++]|0,r=r+a|0}while(--s);a%=65521,r%=65521}return a|r<<16|0};const i=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var a=(e,t,n,a)=>{const r=i,s=a+n;e^=-1;for(let n=a;n<s;n++)e=e>>>8^r[255&(e^t[n])];return-1^e},r=function(e,t){let n,i,a,r,s,o,l,d,h,f,c,u,_,m,g,p,w,b,k,v,y,x,z,E;const A=e.state;n=e.next_in,z=e.input,i=n+(e.avail_in-5),a=e.next_out,E=e.output,r=a-(t-e.avail_out),s=a+(e.avail_out-257),o=A.dmax,l=A.wsize,d=A.whave,h=A.wnext,f=A.window,c=A.hold,u=A.bits,_=A.lencode,m=A.distcode,g=(1<<A.lenbits)-1,p=(1<<A.distbits)-1;e:do{u<15&&(c+=z[n++]<<u,u+=8,c+=z[n++]<<u,u+=8),w=_[c&g];t:for(;;){if(c>>>=b=w>>>24,u-=b,0==(b=w>>>16&255))E[a++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=_[(65535&w)+(c&(1<<b)-1)];continue t}if(32&b){A.mode=12;break e}e.msg="invalid literal/length code",A.mode=30;break e}k=65535&w,(b&=15)&&(u<b&&(c+=z[n++]<<u,u+=8),k+=c&(1<<b)-1,c>>>=b,u-=b),u<15&&(c+=z[n++]<<u,u+=8,c+=z[n++]<<u,u+=8),w=m[c&p];n:for(;;){if(c>>>=b=w>>>24,u-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=m[(65535&w)+(c&(1<<b)-1)];continue n}e.msg="invalid distance code",A.mode=30;break e}if(v=65535&w,u<(b&=15)&&(c+=z[n++]<<u,(u+=8)<b&&(c+=z[n++]<<u,u+=8)),(v+=c&(1<<b)-1)>o){e.msg="invalid distance too far back",A.mode=30;break e}if(c>>>=b,u-=b,v>(b=a-r)){if((b=v-b)>d&&A.sane){e.msg="invalid distance too far back",A.mode=30;break e}if(y=0,x=f,0===h){if(y+=l-b,b<k){k-=b;do{E[a++]=f[y++]}while(--b);y=a-v,x=E}}else if(h<b){if(y+=l+h-b,(b-=h)<k){k-=b;do{E[a++]=f[y++]}while(--b);if(y=0,h<k){k-=b=h;do{E[a++]=f[y++]}while(--b);y=a-v,x=E}}}else if(y+=h-b,b<k){k-=b;do{E[a++]=f[y++]}while(--b);y=a-v,x=E}for(;k>2;)E[a++]=x[y++],E[a++]=x[y++],E[a++]=x[y++],k-=3;k&&(E[a++]=x[y++],k>1&&(E[a++]=x[y++]))}else{y=a-v;do{E[a++]=E[y++],E[a++]=E[y++],E[a++]=E[y++],k-=3}while(k>2);k&&(E[a++]=E[y++],k>1&&(E[a++]=E[y++]))}break}}break}}while(n<i&&a<s);n-=k=u>>3,c&=(1<<(u-=k<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),A.hold=c,A.bits=u};const s=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),d=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var h=(e,t,n,i,a,r,h,f)=>{const c=f.bits;let u,_,m,g,p,w,b=0,k=0,v=0,y=0,x=0,z=0,E=0,A=0,S=0,B=0,R=null,U=0;const Z=new Uint16Array(16),I=new Uint16Array(16);let T,O,F,N=null,C=0;for(b=0;b<=15;b++)Z[b]=0;for(k=0;k<i;k++)Z[t[n+k]]++;for(x=c,y=15;y>=1&&0===Z[y];y--);if(x>y&&(x=y),0===y)return a[r++]=20971520,a[r++]=20971520,f.bits=1,0;for(v=1;v<y&&0===Z[v];v++);for(x<v&&(x=v),A=1,b=1;b<=15;b++)if(A<<=1,(A-=Z[b])<0)return-1;if(A>0&&(0===e||1!==y))return-1;for(I[1]=0,b=1;b<15;b++)I[b+1]=I[b]+Z[b];for(k=0;k<i;k++)0!==t[n+k]&&(h[I[t[n+k]]++]=k);if(0===e?(R=N=h,w=19):1===e?(R=s,U-=257,N=o,C-=257,w=256):(R=l,N=d,w=-1),B=0,k=0,b=v,p=r,z=x,E=0,m=-1,g=(S=1<<x)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){T=b-E,h[k]<w?(O=0,F=h[k]):h[k]>w?(O=N[C+h[k]],F=R[U+h[k]]):(O=96,F=0),u=1<<b-E,v=_=1<<z;do{a[p+(B>>E)+(_-=u)]=T<<24|O<<16|F|0}while(0!==_);for(u=1<<b-1;B&u;)u>>=1;if(0!==u?(B&=u-1,B+=u):B=0,k++,0==--Z[b]){if(b===y)break;b=t[n+h[k]]}if(b>x&&(B&g)!==m){for(0===E&&(E=x),p+=v,A=1<<(z=b-E);z+E<y&&!((A-=Z[z+E])<=0);)z++,A<<=1;if(S+=1<<z,1===e&&S>852||2===e&&S>592)return 1;a[m=B&g]=x<<24|z<<16|p-r|0}}return 0!==B&&(a[p+B]=b-E<<24|64<<16|0),f.bits=x,0},f={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:c,Z_BLOCK:u,Z_TREES:_,Z_OK:m,Z_STREAM_END:g,Z_NEED_DICT:p,Z_STREAM_ERROR:w,Z_DATA_ERROR:b,Z_MEM_ERROR:k,Z_BUF_ERROR:v,Z_DEFLATED:y}=f,x=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const E=e=>{if(!e||!e.state)return w;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,m},A=e=>{if(!e||!e.state)return w;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,E(e)},S=(e,t)=>{let n;if(!e||!e.state)return w;const i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?w:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,A(e))},B=(e,t)=>{if(!e)return w;const n=new z;e.state=n,n.window=null;const i=S(e,t);return i!==m&&(e.state=null),i};let R,U,Z=!0;const I=e=>{if(Z){R=new Int32Array(512),U=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(h(1,e.lens,0,288,R,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;h(2,e.lens,0,32,U,0,e.work,{bits:5}),Z=!1}e.lencode=R,e.lenbits=9,e.distcode=U,e.distbits=5},T=(e,t,n,i)=>{let a;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):((a=r.wsize-r.wnext)>i&&(a=i),r.window.set(t.subarray(n-i,n-i+a),r.wnext),(i-=a)?(r.window.set(t.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0};var O={inflateReset:A,inflateReset2:S,inflateResetKeep:E,inflateInit:e=>B(e,15),inflateInit2:B,inflate:(e,t)=>{let i,s,o,l,d,f,z,E,A,S,B,R,U,Z,O,F,N,C,D,L,M,j,P=0;const H=new Uint8Array(4);let Y,K;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return w;12===(i=e.state).mode&&(i.mode=13),d=e.next_out,o=e.output,z=e.avail_out,l=e.next_in,s=e.input,f=e.avail_in,E=i.hold,A=i.bits,S=f,B=z,j=m;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;A<16;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(2&i.wrap&&35615===E){i.check=0,H[0]=255&E,H[1]=E>>>8&255,i.check=a(i.check,H,2,0),E=0,A=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&E)<<8)+(E>>8))%31){e.msg="incorrect header check",i.mode=30;break}if((15&E)!==y){e.msg="unknown compression method",i.mode=30;break}if(A-=4,M=8+(15&(E>>>=4)),0===i.wbits)i.wbits=M;else if(M>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<i.wbits,e.adler=i.check=1,i.mode=512&E?10:12,E=0,A=0;break;case 2:for(;A<16;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(i.flags=E,(255&i.flags)!==y){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=E>>8&1),512&i.flags&&(H[0]=255&E,H[1]=E>>>8&255,i.check=a(i.check,H,2,0)),E=0,A=0,i.mode=3;case 3:for(;A<32;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}i.head&&(i.head.time=E),512&i.flags&&(H[0]=255&E,H[1]=E>>>8&255,H[2]=E>>>16&255,H[3]=E>>>24&255,i.check=a(i.check,H,4,0)),E=0,A=0,i.mode=4;case 4:for(;A<16;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}i.head&&(i.head.xflags=255&E,i.head.os=E>>8),512&i.flags&&(H[0]=255&E,H[1]=E>>>8&255,i.check=a(i.check,H,2,0)),E=0,A=0,i.mode=5;case 5:if(1024&i.flags){for(;A<16;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}i.length=E,i.head&&(i.head.extra_len=E),512&i.flags&&(H[0]=255&E,H[1]=E>>>8&255,i.check=a(i.check,H,2,0)),E=0,A=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((R=i.length)>f&&(R=f),R&&(i.head&&(M=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(s.subarray(l,l+R),M)),512&i.flags&&(i.check=a(i.check,s,R,l)),f-=R,l+=R,i.length-=R),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===f)break e;R=0;do{M=s[l+R++],i.head&&M&&i.length<65536&&(i.head.name+=String.fromCharCode(M))}while(M&&R<f);if(512&i.flags&&(i.check=a(i.check,s,R,l)),f-=R,l+=R,M)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===f)break e;R=0;do{M=s[l+R++],i.head&&M&&i.length<65536&&(i.head.comment+=String.fromCharCode(M))}while(M&&R<f);if(512&i.flags&&(i.check=a(i.check,s,R,l)),f-=R,l+=R,M)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;A<16;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(E!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}E=0,A=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;A<32;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}e.adler=i.check=x(E),E=0,A=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=d,e.avail_out=z,e.next_in=l,e.avail_in=f,i.hold=E,i.bits=A,p;e.adler=i.check=1,i.mode=12;case 12:if(t===u||t===_)break e;case 13:if(i.last){E>>>=7&A,A-=7&A,i.mode=27;break}for(;A<3;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}switch(i.last=1&E,A-=1,3&(E>>>=1)){case 0:i.mode=14;break;case 1:if(I(i),i.mode=20,t===_){E>>>=2,A-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}E>>>=2,A-=2;break;case 14:for(E>>>=7&A,A-=7&A;A<32;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if((65535&E)!=(E>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&E,E=0,A=0,i.mode=15,t===_)break e;case 15:i.mode=16;case 16:if(R=i.length){if(R>f&&(R=f),R>z&&(R=z),0===R)break e;o.set(s.subarray(l,l+R),d),f-=R,l+=R,z-=R,d+=R,i.length-=R;break}i.mode=12;break;case 17:for(;A<14;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(i.nlen=257+(31&E),E>>>=5,A-=5,i.ndist=1+(31&E),E>>>=5,A-=5,i.ncode=4+(15&E),E>>>=4,A-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;A<3;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}i.lens[V[i.have++]]=7&E,E>>>=3,A-=3}for(;i.have<19;)i.lens[V[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Y={bits:i.lenbits},j=h(0,i.lens,0,19,i.lencode,0,i.work,Y),i.lenbits=Y.bits,j){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;P=i.lencode[E&(1<<i.lenbits)-1],F=P>>>16&255,N=65535&P,!((O=P>>>24)<=A);){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(N<16)E>>>=O,A-=O,i.lens[i.have++]=N;else{if(16===N){for(K=O+2;A<K;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(E>>>=O,A-=O,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}M=i.lens[i.have-1],R=3+(3&E),E>>>=2,A-=2}else if(17===N){for(K=O+3;A<K;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}A-=O,M=0,R=3+(7&(E>>>=O)),E>>>=3,A-=3}else{for(K=O+7;A<K;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}A-=O,M=0,R=11+(127&(E>>>=O)),E>>>=7,A-=7}if(i.have+R>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;R--;)i.lens[i.have++]=M}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,Y={bits:i.lenbits},j=h(1,i.lens,0,i.nlen,i.lencode,0,i.work,Y),i.lenbits=Y.bits,j){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,Y={bits:i.distbits},j=h(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Y),i.distbits=Y.bits,j){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,t===_)break e;case 20:i.mode=21;case 21:if(f>=6&&z>=258){e.next_out=d,e.avail_out=z,e.next_in=l,e.avail_in=f,i.hold=E,i.bits=A,r(e,B),d=e.next_out,o=e.output,z=e.avail_out,l=e.next_in,s=e.input,f=e.avail_in,E=i.hold,A=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;P=i.lencode[E&(1<<i.lenbits)-1],F=P>>>16&255,N=65535&P,!((O=P>>>24)<=A);){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(F&&0==(240&F)){for(C=O,D=F,L=N;P=i.lencode[L+((E&(1<<C+D)-1)>>C)],F=P>>>16&255,N=65535&P,!(C+(O=P>>>24)<=A);){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}E>>>=C,A-=C,i.back+=C}if(E>>>=O,A-=O,i.back+=O,i.length=N,0===F){i.mode=26;break}if(32&F){i.back=-1,i.mode=12;break}if(64&F){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&F,i.mode=22;case 22:if(i.extra){for(K=i.extra;A<K;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}i.length+=E&(1<<i.extra)-1,E>>>=i.extra,A-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;P=i.distcode[E&(1<<i.distbits)-1],F=P>>>16&255,N=65535&P,!((O=P>>>24)<=A);){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(0==(240&F)){for(C=O,D=F,L=N;P=i.distcode[L+((E&(1<<C+D)-1)>>C)],F=P>>>16&255,N=65535&P,!(C+(O=P>>>24)<=A);){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}E>>>=C,A-=C,i.back+=C}if(E>>>=O,A-=O,i.back+=O,64&F){e.msg="invalid distance code",i.mode=30;break}i.offset=N,i.extra=15&F,i.mode=24;case 24:if(i.extra){for(K=i.extra;A<K;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}i.offset+=E&(1<<i.extra)-1,E>>>=i.extra,A-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===z)break e;if(R=B-z,i.offset>R){if((R=i.offset-R)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}R>i.wnext?(R-=i.wnext,U=i.wsize-R):U=i.wnext-R,R>i.length&&(R=i.length),Z=i.window}else Z=o,U=d-i.offset,R=i.length;R>z&&(R=z),z-=R,i.length-=R;do{o[d++]=Z[U++]}while(--R);0===i.length&&(i.mode=21);break;case 26:if(0===z)break e;o[d++]=i.length,z--,i.mode=21;break;case 27:if(i.wrap){for(;A<32;){if(0===f)break e;f--,E|=s[l++]<<A,A+=8}if(B-=z,e.total_out+=B,i.total+=B,B&&(e.adler=i.check=i.flags?a(i.check,o,B,d-B):n(i.check,o,B,d-B)),B=z,(i.flags?E:x(E))!==i.check){e.msg="incorrect data check",i.mode=30;break}E=0,A=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;A<32;){if(0===f)break e;f--,E+=s[l++]<<A,A+=8}if(E!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}E=0,A=0}i.mode=29;case 29:j=g;break e;case 30:j=b;break e;case 31:return k;case 32:default:return w}return e.next_out=d,e.avail_out=z,e.next_in=l,e.avail_in=f,i.hold=E,i.bits=A,(i.wsize||B!==e.avail_out&&i.mode<30&&(i.mode<27||t!==c))&&T(e,e.output,e.next_out,B-e.avail_out),S-=e.avail_in,B-=e.avail_out,e.total_in+=S,e.total_out+=B,i.total+=B,i.wrap&&B&&(e.adler=i.check=i.flags?a(i.check,o,B,e.next_out-B):n(i.check,o,B,e.next_out-B)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===S&&0===B||t===c)&&j===m&&(j=v),j},inflateEnd:e=>{if(!e||!e.state)return w;let t=e.state;return t.window&&(t.window=null),e.state=null,m},inflateGetHeader:(e,t)=>{if(!e||!e.state)return w;const n=e.state;return 0==(2&n.wrap)?w:(n.head=t,t.done=!1,m)},inflateSetDictionary:(e,t)=>{const i=t.length;let a,r,s;return e&&e.state?0!==(a=e.state).wrap&&11!==a.mode?w:11===a.mode&&(r=n(r=1,t,i,0))!==a.check?b:(s=T(e,t,i,i))?(a.mode=31,k):(a.havedict=1,m):w},inflateInfo:"pako inflate (from Nodeca project)"};const F=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var N={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)F(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,i=0,a=e.length;t<a;t++){let a=e[t];n.set(a,i),i+=a.length}return n}};let C=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){C=!1}const D=new Uint8Array(256);for(let e=0;e<256;e++)D[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;D[254]=D[254]=1;var L={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,a,r,s=e.length,o=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),r=0,a=0;r<o;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[r++]=n:n<2048?(t[r++]=192|n>>>6,t[r++]=128|63&n):n<65536?(t[r++]=224|n>>>12,t[r++]=128|n>>>6&63,t[r++]=128|63&n):(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63,t[r++]=128|n>>>6&63,t[r++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,a;const r=new Array(2*n);for(a=0,i=0;i<n;){let t=e[i++];if(t<128){r[a++]=t;continue}let s=D[t];if(s>4)r[a++]=65533,i+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&i<n;)t=t<<6|63&e[i++],s--;s>1?r[a++]=65533:t<65536?r[a++]=t:(t-=65536,r[a++]=55296|t>>10&1023,r[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&C)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(r,a)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+D[e[n]]>t?n:t}},M={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},P=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const H=Object.prototype.toString,{Z_NO_FLUSH:Y,Z_FINISH:K,Z_OK:V,Z_STREAM_END:W,Z_NEED_DICT:X,Z_STREAM_ERROR:$,Z_DATA_ERROR:G,Z_MEM_ERROR:q}=f;function J(e){this.options=N.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;let n=O.inflateInit2(this.strm,t.windowBits);if(n!==V)throw new Error(M[n]);if(this.header=new P,O.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=L.string2buf(t.dictionary):"[object ArrayBuffer]"===H.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=O.inflateSetDictionary(this.strm,t.dictionary))!==V))throw new Error(M[n])}J.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?K:Y,"[object ArrayBuffer]"===H.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(r=O.inflate(n,s))===X&&a&&((r=O.inflateSetDictionary(n,a))===V?r=O.inflate(n,s):r===G&&(r=X));n.avail_in>0&&r===W&&n.state.wrap>0&&0!==e[n.next_in];)O.inflateReset(n),r=O.inflate(n,s);switch(r){case $:case G:case X:case q:return this.onEnd(r),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||r===W))if("string"===this.options.to){let e=L.utf8border(n.output,n.next_out),t=n.next_out-e,a=L.buf2string(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(r!==V||0!==o){if(r===W)return r=O.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},J.prototype.onData=function(e){this.chunks.push(e)},J.prototype.onEnd=function(e){e===V&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=N.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports=function(e){e.addEventListener("message",t=>{const n=t.data;try{const t=function(e,t){const n=new J(t);if(n.push(e),n.err)throw n.msg||M[n.err];return n.result}(n).buffer;e.postMessage(t,[t])}catch(t){e.postMessage(new Error("The buffer cannot be inflated."))}})}}(e={exports:{}}),e.exports;var e},function e(t){var n=this;if(!(n instanceof e))return new e(t);if(!oi)return new Qn(si);if(Qn&&!t){var i=ri(';(function(f){f&&new(f.default?f["default"]:f)(self)}(('+oi.toString()+")()))"),a=new Qn(i);return Gn.revokeObjectURL(i),n[Jn]=a}var r=new ti({close:function(){this.destroy()}},n);Object.assign(new ti(n,r),{isThisThread:!0,terminate:function(){r.close(),this.destroy()}}),oi().call(r,r)});const di={"signed char":Int8Array,int8:Int8Array,int8_t:Int8Array,uchar:Uint8Array,"unsigned char":Uint8Array,uint8:Uint8Array,uint8_t:Uint8Array,short:Int16Array,"short int":Int16Array,"signed short":Int16Array,"signed short int":Int16Array,int16:Int16Array,int16_t:Int16Array,ushort:Uint16Array,"unsigned short":Uint16Array,"unsigned short int":Uint16Array,uint16:Uint16Array,uint16_t:Uint16Array,int:Int32Array,"signed int":Int32Array,int32:Int32Array,int32_t:Int32Array,uint:Uint32Array,"unsigned int":Uint32Array,uint32:Uint32Array,uint32_t:Uint32Array,longlong:BigInt64Array,"long long":BigInt64Array,"long long int":BigInt64Array,"signed long long":BigInt64Array,"signed long long int":BigInt64Array,int64:BigInt64Array,int64_t:BigInt64Array,ulonglong:BigUint64Array,"unsigned long long":BigUint64Array,"unsigned long long int":BigUint64Array,uint64:BigUint64Array,uint64_t:BigUint64Array,float:Float32Array,double:Float64Array},hi={"signed char":"getInt8",int8:"getInt8",int8_t:"getInt8",uchar:"getUint8","unsigned char":"getUint8",uint8:"getUint8",uint8_t:"getUint8",short:"getInt16","short int":"getInt16","signed short":"getInt16","signed short int":"getInt16",int16:"getInt16",int16_t:"getInt16",ushort:"getUint16","unsigned short":"getUint16","unsigned short int":"getUint16",uint16:"getUint16",uint16_t:"getUint16",int:"getInt32","signed int":"getInt32",int32:"getInt32",int32_t:"getInt32",uint:"getUint32","unsigned int":"getUint32",uint32:"getUint32",uint32_t:"getUint32",longlong:null,"long long":null,"long long int":null,"signed long long":null,"signed long long int":null,int64:null,int64_t:null,ulonglong:null,"unsigned long long":null,"unsigned long long int":null,uint64:null,uint64_t:null,float:"getFloat32",double:"getFloat64"},fi={"right-anterior-superior":3,ras:3,"left-anterior-superior":3,las:3,"left-posterior-superior":3,lps:3,"right-anterior-superior-time":4,rast:4,"left-anterior-superior-time":4,last:4,"left-posterior-superior-time":4,lpst:4,"scanner-xyz":3,"scanner-xyz-time":4,"3d-right-handed":3,"3d-left-handed":3,"3d-right-handed-time":4,"3d-left-handed-time":4},ci={domain:null,space:null,time:null,list:null,point:null,vector:null,"covariant-vector":null,normal:null,stub:1,scalar:1,complex:2,"2-vector":2,"3-color":3,"rgb-color":3,"hsv-color":3,"xyz-color":3,"4-color":4,"rgba-color":4,"3-vector":3,"3-gradient":3,"3-normal":3,"4-vector":4,quaternion:4,"2d-symmetric-matrix":3,"2d-masked-symmetric-matrix":4,"2d-matrix":4,"2d-masked-matrix":4,"3d-symmetric-matrix":6,"3d-masked-symmetric-matrix":7,"3d-matrix":9,"3d-masked-matrix":10,"???":null};var ui=1e-6,_i="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function mi(){var e=new _i(3);return _i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function gi(e,t,n){var i=new _i(3);return i[0]=e,i[1]=t,i[2]=n,i}function pi(e,t,n){var i=t[0],a=t[1],r=t[2],s=n[0],o=n[1],l=n[2];return e[0]=a*l-r*o,e[1]=r*s-i*l,e[2]=i*o-a*s,e}var wi,bi=function(e){var t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)};wi=mi();!function(){var e,t=(e=new _i(4),_i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e)}();function ki(){var e=new _i(4);return _i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function vi(e,t,n,i){var a,r,s,o,l,d=t[0],h=t[1],f=t[2],c=t[3],u=n[0],_=n[1],m=n[2],g=n[3];return(r=d*u+h*_+f*m+c*g)<0&&(r=-r,u=-u,_=-_,m=-m,g=-g),1-r>ui?(a=Math.acos(r),s=Math.sin(a),o=Math.sin((1-i)*a)/s,l=Math.sin(i*a)/s):(o=1-i,l=i),e[0]=o*d+l*u,e[1]=o*h+l*_,e[2]=o*f+l*m,e[3]=o*c+l*g,e}var yi,xi,zi,Ei,Ai,Si,Bi,Ri=function(e,t){var n=t[0],i=t[1],a=t[2],r=t[3],s=n*n+i*i+a*a+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=i*s,e[2]=a*s,e[3]=r*s,e};yi=mi(),xi=gi(1,0,0),zi=gi(0,1,0),Ei=ki(),Ai=ki(),Si=new _i(9),_i!=Float32Array&&(Si[1]=0,Si[2]=0,Si[3]=0,Si[5]=0,Si[6]=0,Si[7]=0),Si[0]=1,Si[4]=1,Si[8]=1,Bi=Si;!function(){var e,t=(e=new _i(2),_i!=Float32Array&&(e[0]=0,e[1]=0),e)}();class Ui{static getNumberOfComponentPerVoxel(e){return e.dimension===e["space dimension"]||null!==e["space directions"][0]?1:e.sizes[0]}static getNumberOfTimeSamples(e){return e.dimension===e["space dimension"]||null!==e["space directions"][e["space directions"].length-1]?1:e.sizes[e.sizes.length-1]}static transposeSlice(e){let t=new e.data.constructor(e.data.length);for(let n=0;n<e.height;n++)for(let i=0;i<e.width;i++){let a=n*e.width+i;t[i*e.height+n]=e.data[a]}return{width:e.height,height:e.width,ncpv:e,data:t}}static getSliceXY(e,t,n){if(n<0||n>=t.sizes[2])throw new Error(`The slice index is out of bound. Must be in [0, ${t.sizes[2]-1}]`);let i=Ui.getNumberOfComponentPerVoxel(t),a=t.sizes[0]*t.sizes[1],r=i*n*a*e.BYTES_PER_ELEMENT,s=a*i,o=new e.constructor(e.buffer,r,s);return{width:t.sizes[0],height:t.sizes[1],ncpv:i,data:o}}static getSliceYX(e,t,n){return Ui.transposeSlice(Ui.getSliceXY(e,t,n))}static getSliceXZ(e,t,n){let i=t.sizes[0],a=t.sizes[2],r=Ui.getNumberOfComponentPerVoxel(t),s=new e.constructor(i*a*r);for(let o=0;o<a;o++){let a=Ui.getIndex1D(t,0,n,o)*e.BYTES_PER_ELEMENT,l=new e.constructor(e.buffer,a,i*r);s.set(l,o*i*r)}return{width:t.sizes[0],height:t.sizes[2],ncpv:r,data:s}}static getSliceZX(e,t,n){return Ui.transposeSlice(Ui.getSliceYZ(e,t,n))}static getSliceYZ(e,t,n){let i=t.sizes[1],a=t.sizes[2],r=Ui.getNumberOfComponentPerVoxel(t),s=new e.constructor(i*a*r),o=0;if(1===r)for(let r=0;r<a;r++)for(let a=0;a<i;a++){let i=n*t.extra.stride[0]+a*t.extra.stride[1]+r*t.extra.stride[2];s[o]=e[i],o++}else for(let l=0;l<a;l++)for(let a=0;a<i;a++){let i=(n*t.extra.stride[0]+a*t.extra.stride[1]+l*t.extra.stride[2])*r*e.BYTES_PER_ELEMENT,d=new e.constructor(e.buffer,i,r);s.set(d,o),o+=r}return{width:t.sizes[1],height:t.sizes[2],ncpv:r,data:s}}static getSliceZY(e,t,n){return Ui.transposeSlice(Ui.getSliceYZ(e,t,n))}static getValue(e,t,n,i,a){if(n<0||n>=t.sizes[0]||i<0||i>=t.sizes[1]||a<0||a>=t.sizes[2])throw new Error("The position is out of range.");let r=Ui.getNumberOfComponentPerVoxel(t),s=(n*t.extra.stride[0]+i*t.extra.stride[1]+a*t.extra.stride[2])*r;return e.slice(s,s+r)}static getIndex1D(e,t,n,i){if(t<0||t>=e.sizes[0]||n<0||n>=e.sizes[1]||i<0||i>=e.sizes[2])throw new Error("The position is out of range.");let a=Ui.getNumberOfComponentPerVoxel(e);return(t*e.extra.stride[0]+n*e.extra.stride[1]+i*e.extra.stride[2])*a}static getVoxelToWorldMatrix(e){let t="space origin"in e?e["space origin"]:[0,0,0],n="space directions"in e?e["space directions"].filter(e=>null!==e):[[1,0,0],[0,1,0],[0,0,1]];var i,a,r,s,o,l,d,h,f,c,u,_,m,g,p,w,b;return i=n[0][0],a=n[0][1],r=n[0][2],s=0,o=n[1][0],l=n[1][1],d=n[1][2],h=0,f=n[2][0],c=n[2][1],u=n[2][2],_=0,m=t[0],g=t[1],p=t[2],w=1,(b=new _i(16))[0]=i,b[1]=a,b[2]=r,b[3]=s,b[4]=o,b[5]=l,b[6]=d,b[7]=h,b[8]=f,b[9]=c,b[10]=u,b[11]=_,b[12]=m,b[13]=g,b[14]=p,b[15]=w,b}static getWorldToVoxelMatrix(e){let t=Ui.getVoxelToWorldMatrix(e),n=(i=new _i(16),_i!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i);var i;return function(e,t){var n=t[0],i=t[1],a=t[2],r=t[3],s=t[4],o=t[5],l=t[6],d=t[7],h=t[8],f=t[9],c=t[10],u=t[11],_=t[12],m=t[13],g=t[14],p=t[15],w=n*o-i*s,b=n*l-a*s,k=n*d-r*s,v=i*l-a*o,y=i*d-r*o,x=a*d-r*l,z=h*m-f*_,E=h*g-c*_,A=h*p-u*_,S=f*g-c*m,B=f*p-u*m,R=c*p-u*g,U=w*R-b*B+k*S+v*A-y*E+x*z;U&&(U=1/U,e[0]=(o*R-l*B+d*S)*U,e[1]=(a*B-i*R-r*S)*U,e[2]=(m*x-g*y+p*v)*U,e[3]=(c*y-f*x-u*v)*U,e[4]=(l*A-s*R-d*E)*U,e[5]=(n*R-a*A+r*E)*U,e[6]=(g*k-_*x-p*b)*U,e[7]=(h*x-c*k+u*b)*U,e[8]=(s*B-o*A+d*z)*U,e[9]=(i*A-n*B-r*z)*U,e[10]=(_*y-m*k+p*w)*U,e[11]=(f*k-h*y-u*w)*U,e[12]=(o*E-s*S-l*z)*U,e[13]=(n*S-i*E+a*z)*U,e[14]=(m*b-_*v-g*w)*U,e[15]=(h*v-f*b+c*w)*U)}(n,t),n}static getVoxelPositionFromWorldPosition(e,t,n,i){let a=gi(t,n,i),r=Ui.getWorldToVoxelMatrix(e),s=mi();return function(e,t,n){var i=t[0],a=t[1],r=t[2],s=n[3]*i+n[7]*a+n[11]*r+n[15];s=s||1,e[0]=(n[0]*i+n[4]*a+n[8]*r+n[12])/s,e[1]=(n[1]*i+n[5]*a+n[9]*r+n[13])/s,e[2]=(n[2]*i+n[6]*a+n[10]*r+n[14])/s}(s,a,r),s.map(e=>Math.round(e))}static getWorldValue(e,t,n,i,a){let r=Ui.getVoxelPositionFromWorldPosition(t,n,i,a);return Ui.getValue(e,t,...r)}}return{parse:function(e,t={}){if("NRRD000"!==String.fromCharCode.apply(null,new Uint8Array(e,0,"NRRD000".length)))throw new Error("This file is not a NRRD file");let{header:n,dataByteOffset:i}=function(e){let t=[],n=null,i=new DataView(e);for(let a=0;a<e.byteLength;a++)if(t.push(String.fromCharCode(i.getUint8(a))),a>0&&"\n"===t[a-1]&&"\n"===t[a]){n=a+1;break}if(null===n)throw new Error("The NRRD header is corrupted.");let a=[],r=t.join("").trim().split(/\r\n|\n/).map(e=>e.trim()).slice(1).filter(e=>e.length>0).filter(e=>("#"===e[0]&&a.push(e.slice(1).trim()),"#"!==e[0])).map(e=>{let t=e.split(":");return{key:t[0].trim(),val:t[1].trim()}}),s={};if(r.forEach(e=>{s[e.key]=e.val}),s.sizes&&(s.sizes=s.sizes.split(/\s+/).map(e=>parseInt(e))),s["space dimension"]&&(s["space dimension"]=parseInt(s["space dimension"])),s.space&&(s["space dimension"]=fi[s.space.toLowerCase()]),s.dimension&&(s.dimension=parseInt(s.dimension)),s["space directions"]&&(s["space directions"]=s["space directions"].split(/\s+/).map(e=>"none"===e.trim()?null:e.slice(1,e.length-1).split(",").map(e=>parseFloat(e))),s["space directions"].length!==s.dimension))throw new Error('"space direction" property has to contain as many elements as dimensions. Non-spatial dimesnsions must be refered as "none". See http://teem.sourceforge.net/nrrd/format.html#spacedirections for more info.');if(s["space units"]&&(s["space units"]=s["space units"].split(/\s+/)),s["space origin"]&&(s["space origin"]=s["space origin"].slice(1,s["space origin"].length-1).split(",").map(e=>parseFloat(e))),s["measurement frame"]&&(s["measurement frame"]=s["measurement frame"].split(/\s+/).map(e=>"none"===e.trim()?null:e.slice(1,e.length-1).split(",").map(e=>parseFloat(e)))),s.kinds){if(s.kinds=s.kinds.split(/\s+/),s.kinds.length!==s.sizes.length)throw new Error('The "kinds" property is expected to have has many elements as the "size" property.');s.kinds.forEach((e,t)=>{let n=ci[e.toLowerCase()],i=s.sizes[t];if(null!==n&&n!==i)throw new Error(`The kind "${e}" expect a size of ${n} but ${i} found`)})}s.min&&(s.min=parseFloat(s.min)),s.max&&(s.max=parseFloat(s.max)),s["old min"]&&(s["old min"]=parseFloat(s["old min"])),s["old max"]&&(s["old max"]=parseFloat(s["old max"])),s.spacings&&(s.spacings=s.spacings.split(/\s+/).map(e=>parseFloat(e))),s.thicknesses&&(s.thicknesses=s.thicknesses.split(/\s+/).map(e=>parseFloat(e))),s["axis mins"]&&(s["axis mins"]=s["axis mins"].split(/\s+/).map(e=>parseFloat(e))),s.axismins&&(s.axismins=s.axismins.split(/\s+/).map(e=>parseFloat(e))),s["axis maxs"]&&(s["axis maxs"]=s["axis maxs"].split(/\s+/).map(e=>parseFloat(e))),s.axismaxs&&(s.axismaxs=s.axismaxs.split(/\s+/).map(e=>parseFloat(e))),s.centers&&(s.centers=s.centers.split(/\s+/).map(e=>"cell"===e||"node"===e?e:null)),s.labels&&(s.labels=s.labels.split(/\s+/)),s.extra={},s.extra.comments=a,s.extra.stride=[1];for(let e=1;e<s.sizes.length;e++)s.extra.stride.push(s.extra.stride[e-1]*s.sizes[e-1]);return{header:s,dataByteOffset:n}}(e);if("headerOnly"in t&&t.headerOnly)return{header:n,data:null};let a=function(e,t,n){let i=null,a=di[t.type],r=t.sizes.reduce((e,t)=>e*t),s=1/0,o=-1/0,l=null,d="ascii"===t.encoding||"txt"===t.encoding||"text"===t.encoding;if("raw"===t.encoding)i=e.slice(n);else if(d){let t=String.fromCharCode.apply(null,new Uint8Array(e,n)).split(/\r\n|\n|\s/).map(e=>e.trim()).filter(e=>""!==e).map(e=>{let t=parseFloat(e);return s=Math.min(s,t),o=Math.max(o,t),t});l=new a(t)}else{if("gzip"!==t.encoding&&"gz"!==t.encoding)throw new Error('Only "raw", "ascii" and "gzip" encoding are supported.');i=Wn.inflate(e.slice(n)).buffer}if(d){if(r!==l.length)throw new Error("Unconsistency in data buffer length")}else{let e=i.byteLength/a.BYTES_PER_ELEMENT;if(r!==e)throw new Error("Unconsistency in data buffer length");l=new a(r);let n=new DataView(i),d=hi[t.type],h="little"===t.endian;for(let e=0;e<r;e++)l[e]=n[d](e*a.BYTES_PER_ELEMENT,h),s=Math.min(s,l[e]),o=Math.max(o,l[e])}return t.extra.min=s,t.extra.max=o,l}(e,n,i);return{header:n,data:a}},Toolbox:Ui,parseAsync:async function(e,t={}){if("NRRD000"!==String.fromCharCode.apply(null,new Uint8Array(e,0,"NRRD000".length)))throw new Error("This file is not a NRRD file");let{header:n,dataByteOffset:i}=function(e){let t=[],n=null,i=new DataView(e);for(let a=0;a<e.byteLength;a++)if(t.push(String.fromCharCode(i.getUint8(a))),a>0&&"\n"===t[a-1]&&"\n"===t[a]){n=a+1;break}if(null===n)throw new Error("The NRRD header is corrupted.");let a=[],r=t.join("").trim().split(/\r\n|\n/).map(e=>e.trim()).slice(1).filter(e=>e.length>0).filter(e=>("#"===e[0]&&a.push(e.slice(1).trim()),"#"!==e[0])).map(e=>{let t=e.split(":");return{key:t[0].trim(),val:t[1].trim()}}),s={};if(r.forEach(e=>{s[e.key]=e.val}),s.sizes&&(s.sizes=s.sizes.split(/\s+/).map(e=>parseInt(e))),s["space dimension"]&&(s["space dimension"]=parseInt(s["space dimension"])),s.space&&(s["space dimension"]=fi[s.space.toLowerCase()]),s.dimension&&(s.dimension=parseInt(s.dimension)),s["space directions"]&&(s["space directions"]=s["space directions"].split(/\s+/).map(e=>"none"===e.trim()?null:e.slice(1,e.length-1).split(",").map(e=>parseFloat(e))),s["space directions"].length!==s.dimension))throw new Error('"space direction" property has to contain as many elements as dimensions. Non-spatial dimesnsions must be refered as "none". See http://teem.sourceforge.net/nrrd/format.html#spacedirections for more info.');if(s["space units"]&&(s["space units"]=s["space units"].split(/\s+/)),s["space origin"]&&(s["space origin"]=s["space origin"].slice(1,s["space origin"].length-1).split(",").map(e=>parseFloat(e))),s["measurement frame"]&&(s["measurement frame"]=s["measurement frame"].split(/\s+/).map(e=>"none"===e.trim()?null:e.slice(1,e.length-1).split(",").map(e=>parseFloat(e)))),s.kinds){if(s.kinds=s.kinds.split(/\s+/),s.kinds.length!==s.sizes.length)throw new Error('The "kinds" property is expected to have has many elements as the "size" property.');s.kinds.forEach((e,t)=>{let n=ci[e.toLowerCase()],i=s.sizes[t];if(null!==n&&n!==i)throw new Error(`The kind "${e}" expect a size of ${n} but ${i} found`)})}s.min&&(s.min=parseFloat(s.min)),s.max&&(s.max=parseFloat(s.max)),s["old min"]&&(s["old min"]=parseFloat(s["old min"])),s["old max"]&&(s["old max"]=parseFloat(s["old max"])),s.spacings&&(s.spacings=s.spacings.split(/\s+/).map(e=>parseFloat(e))),s.thicknesses&&(s.thicknesses=s.thicknesses.split(/\s+/).map(e=>parseFloat(e))),s["axis mins"]&&(s["axis mins"]=s["axis mins"].split(/\s+/).map(e=>parseFloat(e))),s.axismins&&(s.axismins=s.axismins.split(/\s+/).map(e=>parseFloat(e))),s["axis maxs"]&&(s["axis maxs"]=s["axis maxs"].split(/\s+/).map(e=>parseFloat(e))),s.axismaxs&&(s.axismaxs=s.axismaxs.split(/\s+/).map(e=>parseFloat(e))),s.centers&&(s.centers=s.centers.split(/\s+/).map(e=>"cell"===e||"node"===e?e:null)),s.labels&&(s.labels=s.labels.split(/\s+/)),s.extra={},s.extra.comments=a,s.extra.stride=[1];for(let e=1;e<s.sizes.length;e++)s.extra.stride.push(s.extra.stride[e-1]*s.sizes[e-1]);return{header:s,dataByteOffset:n}}(e);if("headerOnly"in t&&t.headerOnly)return{header:n,data:null};let a=await async function(e,t,n){let i=null;const a=di[t.type],r=t.sizes.reduce((e,t)=>e*t);let s=1/0,o=-1/0,l=null;const d="ascii"===t.encoding||"txt"===t.encoding||"text"===t.encoding;if("raw"===t.encoding)i=e.slice(n);else if(d){const t=String.fromCharCode.apply(null,new Uint8Array(e,n)).split(/\r\n|\n|\s/).map(e=>e.trim()).filter(e=>""!==e).map(e=>{const t=parseFloat(e);return s=Math.min(s,t),o=Math.max(o,t),t});l=new a(t)}else{if("gzip"!==t.encoding&&"gz"!==t.encoding)throw new Error('Only "raw", "ascii" and "gzip" encoding are supported.');i=await(h=e.slice(n,1e3),new Promise((e,t)=>{const n=new li;n.addEventListener("message",n=>{n.data instanceof Error?t(n.data):e(n.data)}),n.postMessage(h,[h])}))}var h;if(d){if(r!==l.length)throw new Error("Unconsistency in data buffer length")}else{const e=i.byteLength/a.BYTES_PER_ELEMENT;if(r!==e)throw new Error("Unconsistency in data buffer length");l=new a(r);const n=new DataView(i),d=hi[t.type],h="little"===t.endian;for(let e=0;e<r;e+=1)l[e]=n[d](e*a.BYTES_PER_ELEMENT,h),s=Math.min(s,l[e]),o=Math.max(o,l[e])}return t.extra.min=s,t.extra.max=o,l}(e,n,i);return{header:n,data:a}}}});
